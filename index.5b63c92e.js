function t(t,e){const i=new CustomEvent(t,{detail:e,bubbles:!0});window.dispatchEvent(i)}class e extends HTMLElement{constructor(){super(),this.buttons=this.querySelectorAll("button"),this.inputs=this.querySelectorAll("[data-input]"),this.reset=this.querySelector("[data-reset]"),this.submit=this.querySelector("[data-submit]"),this.inputs.forEach((t=>{const e=t.dataset.input;this.inputClicked(e),t.addEventListener("click",(()=>{this.inputClicked(e)}))})),this.reset.addEventListener("click",(()=>{t("reset:clicked")})),this.submit.addEventListener("click",(()=>{t("submit:clicked")})),window.addEventListener("keydown",(e=>{e.key>=1&&e.key<=6&&this.inputClicked(e.key),"Enter"===e.key&&t("submit:clicked"),"Backspace"===e.key&&t("reset:clicked")})),window.addEventListener("inputs:disable",(()=>{this.disableInputs()})),window.addEventListener("inputs:enable",(()=>{this.enableInputs()}))}inputClicked(e){t("input:clicked",e)}disableInputs(){this.buttons.forEach((t=>{t.setAttribute("disabled",!0)}))}enableInputs(){this.buttons.forEach((t=>{t.removeAttribute("disabled")}))}}customElements.define("input-field",e);class i extends HTMLElement{constructor(){super(),this.currentArray=[],this.historyArray=[],this.answerArray=[],this.currentTurn=1,this.init()}init(){for(let t=0;t<4;t++)this.answerArray.push(Math.floor(6*Math.random())+1);console.log(this.answerArray),window.addEventListener("input:clicked",(t=>{this.currentArray.length>=4&&this.currentArray.shift(),this.currentArray.push(t.detail),this.displayArray(this.currentArray,this.querySelector(`[data-field="${this.currentTurn}"]`))})),window.addEventListener("reset:clicked",(()=>{this.currentArray=[],this.querySelector(`[data-field="${this.currentTurn}"]`).innerHTML=""})),window.addEventListener("submit:clicked",(()=>{this.currentArray.length<4||(this.historyArray.push(this.currentArray),this.displayArray(this.currentArray,this.querySelector(`[data-field="${this.currentTurn}"]`)),this.querySelector(`[data-field="${this.currentTurn}"]`).classList.remove("active"),this.winHandler(),this.currentArray=[],this.currentTurn+=1,7!=this.currentTurn?this.querySelector(`[data-field="${this.currentTurn}"]`).classList.add("active"):t("game:lose"))}))}inputClicked(e){t("input:clicked",e)}displayArray(t,e){e.innerHTML="",t.forEach((t=>{const i=document.createElement("span");i.classList.add("input",`input--${t}`),e.appendChild(i)}))}winHandler(){let e=0;const i=this.currentArray,s=this.answerArray,r=this.querySelector(`[data-field="${this.currentTurn}"]`);for(let n=0;n<i.length;n++)if(i[n]==s[n]){if(e+=1,r.children[n].classList.add("input--correct"),4===e)return void t("game:win")}else-1!=s.indexOf(i[n])?r.children[n].classList.add("input--close"):r.children[n].classList.add("input--wrong")}}customElements.define("game-field",i);class s extends HTMLElement{constructor(){super(),this.button=this.querySelector("button"),this.popupScreen=this.querySelectorAll(".popup-screen"),this.button.addEventListener("click",(()=>{this.classList.add("hidden"),t("inputs:enable")})),window.addEventListener("game:win",(()=>{this.displayScreen("win"),t("inputs:disable")})),window.addEventListener("game:lose",(()=>{this.displayScreen("lose"),t("inputs:disable")}))}displayScreen(t){this.classList.remove("hidden"),this.popupScreen.forEach((e=>{e.dataset.context===t?e.classList.remove("hidden"):e.classList.add("hidden")}))}}customElements.define("pop-up",s),document.addEventListener("DOMContentLoaded",(function(){}));
//# sourceMappingURL=index.5b63c92e.js.map
