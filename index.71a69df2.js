function e(e,t){const i=new CustomEvent(e,{detail:t,bubbles:!0});window.dispatchEvent(i)}class t extends HTMLElement{constructor(){super(),this.buttons=this.querySelectorAll("button"),this.inputs=this.querySelectorAll("[data-input]"),this.reset=this.querySelector("[data-reset]"),this.submit=this.querySelector("[data-submit]"),this.inputs.forEach((e=>{const t=e.dataset.input;this.inputClicked(t),e.addEventListener("click",(()=>{this.inputClicked(t)}))})),this.reset.addEventListener("click",(()=>{e("reset:clicked")})),this.submit.addEventListener("click",(()=>{e("submit:clicked")})),window.addEventListener("keydown",(t=>{t.key>=1&&t.key<=6&&this.inputClicked(t.key),"Enter"===t.key&&e("submit:clicked"),"Backspace"===t.key&&e("reset:clicked")})),window.addEventListener("inputs:disable",(()=>{this.disableInputs()})),window.addEventListener("inputs:enable",(()=>{this.enableInputs()}))}inputClicked(t){e("input:clicked",t)}disableInputs(){this.buttons.forEach((e=>{e.setAttribute("disabled",!0)}))}enableInputs(){this.buttons.forEach((e=>{e.removeAttribute("disabled")}))}}customElements.define("input-field",t);class i extends HTMLElement{constructor(){super(),this.currentArray=[],this.historyArray=[],this.answerArray=[],this.currentTurn=1,this.init()}init(){for(let e=0;e<4;e++)this.answerArray.push(Math.floor(6*Math.random())+1);window.addEventListener("input:clicked",(e=>{this.currentArray.length>=4&&this.currentArray.shift(),this.currentArray.push(e.detail),this.displayArray(this.currentArray,this.querySelector(`[data-field="${this.currentTurn}"]`))})),window.addEventListener("reset:clicked",(()=>{this.currentArray=[],this.querySelector(`[data-field="${this.currentTurn}"]`).innerHTML=""})),window.addEventListener("submit:clicked",(()=>{this.currentArray.length<4||(this.historyArray.push(this.currentArray),this.displayArray(this.currentArray,this.querySelector(`[data-field="${this.currentTurn}"]`)),this.querySelector(`[data-field="${this.currentTurn}"]`).classList.remove("active"),this.winHandler(),this.currentArray=[],this.currentTurn+=1,7!=this.currentTurn&&this.querySelector(`[data-field="${this.currentTurn}"]`).classList.add("active"))}))}inputClicked(t){e("input:clicked",t)}displayArray(e,t){t.innerHTML="",e.forEach((e=>{const i=document.createElement("span");i.classList.add("input",`input--${e}`),t.appendChild(i)}))}winHandler(){let t=0;const i=this.currentArray,s=this.answerArray,r=this.querySelector(`[data-field="${this.currentTurn}"]`);for(let n=0;n<i.length;n++)if(i[n]==s[n]){if(t+=1,r.children[n].classList.add("input--correct"),4===t)return void e("game:win")}else-1!=s.indexOf(i[n])?r.children[n].classList.add("input--close"):r.children[n].classList.add("input--wrong");6!=this.currentTurn||e("game:lose")}}customElements.define("game-field",i);class s extends HTMLElement{constructor(){super(),this.button=this.querySelector("[data-play]"),this.refresh=this.querySelectorAll("[data-refresh]"),this.popupScreen=this.querySelectorAll(".popup-screen"),this.button.addEventListener("click",(()=>{this.classList.add("hidden"),e("inputs:enable")})),this.refresh.forEach((e=>{e.addEventListener("click",(()=>{window.location.reload()}))})),window.addEventListener("game:win",(()=>{this.displayScreen("win"),e("inputs:disable")})),window.addEventListener("game:lose",(()=>{this.displayScreen("lose"),e("inputs:disable")}))}displayScreen(e){this.classList.remove("hidden"),this.popupScreen.forEach((t=>{t.dataset.context===e?t.classList.remove("hidden"):t.classList.add("hidden")}))}}customElements.define("pop-up",s),document.addEventListener("DOMContentLoaded",(function(){}));
//# sourceMappingURL=index.71a69df2.js.map
