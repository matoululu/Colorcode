function e(e,t){const r=new CustomEvent(e,{detail:t,bubbles:!0});window.dispatchEvent(r)}class t extends HTMLElement{constructor(){super(),this.inputs=this.querySelectorAll("[data-input]"),this.reset=this.querySelector("[data-reset]"),this.submit=this.querySelector("[data-submit]"),this.inputs.forEach((e=>{const t=e.dataset.input;this.inputClicked(t),e.addEventListener("click",(()=>{this.inputClicked(t)}))})),this.reset.addEventListener("click",(()=>{e("reset:clicked")})),this.submit.addEventListener("click",(()=>{e("submit:clicked")})),window.addEventListener("keydown",(t=>{t.key>=1&&t.key<=6&&this.inputClicked(t.key),"Enter"===t.key&&e("submit:clicked"),"Backspace"===t.key&&e("reset:clicked")}))}inputClicked(t){e("input:clicked",t)}}customElements.define("input-field",t);class r extends HTMLElement{constructor(){super(),this.currentArray=[],this.historyArray=[],this.answerArray=[],this.currentTurn=1,this.init()}init(){for(let e=0;e<6;e++)this.answerArray.push(Math.floor(6*Math.random())+1);console.log(this.answerArray),window.addEventListener("input:clicked",(e=>{this.currentArray.length>=6&&this.currentArray.shift(),this.currentArray.push(e.detail),this.displayArray(this.currentArray,this.querySelector(`[data-field="${this.currentTurn}"]`))})),window.addEventListener("reset:clicked",(()=>{this.currentArray=[],this.querySelector(`[data-field="${this.currentTurn}"]`).innerHTML=""})),window.addEventListener("submit:clicked",(()=>{this.currentArray.length<6||(this.historyArray.push(this.currentArray),this.displayArray(this.currentArray,this.querySelector(`[data-field="${this.currentTurn}"]`)),this.querySelector(`[data-field="${this.currentTurn}"]`).classList.remove("active"),this.winHandler(),this.currentArray=[],this.currentTurn+=1,console.log(this.currentTurn),this.currentTurn>7||this.querySelector(`[data-field="${this.currentTurn}"]`).classList.add("active"))}))}inputClicked(t){e("input:clicked",t)}displayArray(e,t){t.innerHTML="",e.forEach((e=>{const r=document.createElement("span");r.classList.add("input",`input--${e}`),t.appendChild(r)}))}winHandler(){let t=0;const r=this.currentArray,i=this.answerArray,s=this.querySelector(`[data-field="${this.currentTurn}"]`);r.forEach(((r,n)=>{const c=Number(r);c===i[n]?(t+=1,s.children[n].classList.add("input--correct"),console.log(t),6===t&&(console.log(""),e("game:win"))):i.includes(c)?s.children[n].classList.add("input--close"):s.children[n].classList.add("input--wrong"),console.log(this.currentTurn),this.currentTurn<=7&&e("game:lose")}))}}customElements.define("game-field",r);class i extends HTMLElement{constructor(){super(),this.button=this.querySelector("button"),this.popupScreen=this.querySelectorAll(".popup-screen"),this.button.addEventListener("click",(()=>{this.classList.add("hidden")})),window.addEventListener("game:win",(()=>{this.displayScreen("win")})),window.addEventListener("game:lost",(()=>{this.displayScreen("lose")}))}displayScreen(e){console.log(e),this.classList.remove("hidden"),this.popupScreen.forEach((t=>{t.dataset.context===e?t.classList.remove("hidden"):t.classList.add("hidden")}))}}customElements.define("pop-up",i),document.addEventListener("DOMContentLoaded",(function(){}));
//# sourceMappingURL=index.ce781631.js.map
